<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>index</title>
</head>
<body>
	<input type="file" id="upload_image" />
	<p></p>
	<p></p>
	<script>
	window.onload=function(){
	var upload =document.getElementById('upload_image'),
		ps = document.getElementsByTagName('p')[1],
		body  = document.getElementsByTagName('body')[0];

		upload.onchange=function(){
			alert('123');
			var file = this.files[0];
			alert(file.type);
			var reader = new FileReader();
			reader.readAsDataURL(file);
			reader.onload=function(){
				body.innerHTML='<div>图片img标签展示：</div><img src="'+this.result+'" alt=""/>'; 
			}
		}
	}
	//小功能。。
	// var img = document.getElementsByTagName('img'),
	// 	imglist=new Array();
	// Array.prototype.forEach.call(img,function(value){
	// 	//console.log(value);
	// 	imglist.push(value);
	// 	// getBase64(value.src);
	// 	// console.log('\n');
	// });
	// function getBase64(img){
	// 	var canvas = document.createElement("canvas");
	// 	canvas.width=img.width;
	// 	canvas.height = img.width;
	// 	var ctx = canvas.getContext("2d");
	// 	ctx.drawImage(img,0,0,img.width,img.height);
	// 	var ext = img.src.substring(img.src.lastIndexOf(".")+1).toLowerCase();
	// 	var dataUrl = canvas.toDataURL("image/"+ext);
	// 	console.log(dataUrl);
	// 	return dataUrl;
	// }
	// for (i in imglist){
	// 	getBase64(i);
	// }
	</script>
</body>
</html>